{"version":3,"sources":["turbopack:///[project]/src/app/AppReport/page.js"],"sourcesContent":["'use client';\r\nimport Footer from '@/Components/Footer';\r\nimport MenuBar from '@/Components/MenuBar';\r\n// Removed imports for MenuBar and Footer\r\nimport React, { useState } from 'react';\r\n\r\n// SVG Icon for the header - represents reporting/feedback\r\nconst ReportIcon = () => (\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-16 h-16 text-blue-500 animate-fade-in\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.731 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\" />\r\n  </svg>\r\n);\r\n\r\n\r\n\r\nexport default function ReportIssuePage() {\r\n  const [subject, setSubject] = useState('');\r\n  const [email, setEmail] = useState(''); // Added email state\r\n  const [category, setCategory] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [file, setFile] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [formStatus, setFormStatus] = useState({ message: '', type: '' }); // For success/error messages\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n    setFormStatus({ message: '', type: '' }); // Clear previous status\r\n\r\n    const formData = new FormData();\r\n    formData.append('subject', subject);\r\n    formData.append('email', email); // Added email to form data\r\n    formData.append('category', category);\r\n    formData.append('description', description);\r\n    if (file) {\r\n      formData.append('attachment', file);\r\n    }\r\n\r\n    // --- NEW: API Submission Logic ---\r\n    const baseURL = 'http://192.168.1.33:3221'; \r\n    const submitURL = `${baseURL}/Reports/submit`; // Using a relative path\r\n\r\n    try {\r\n      const response = await fetch(submitURL, {\r\n        method: 'POST',\r\n        body: formData,\r\n        // Headers are not needed for FormData; browser sets multipart/form-data\r\n      });\r\n\r\n      if (response.ok) {\r\n        // --- Success Case ---\r\n        setFormStatus({ message: 'Your report has been submitted successfully! Thank you.', type: 'success' });\r\n        setSubject('');\r\n        setEmail(''); // Reset email state\r\n        setCategory('');\r\n        setDescription('');\r\n        setFile(null);\r\n        e.target.reset(); // Resets file input\r\n      } else {\r\n        // --- API Error Case ---\r\n        const errorData = await response.json().catch(() => ({ message: 'Server error. Please try again.' }));\r\n        setFormStatus({ message: `Submission failed: ${errorData.message || 'Please try again.'}`, type: 'error' });\r\n      }\r\n    } catch (error) {\r\n      // --- Network Error Case ---\r\n      console.error('Submission Error:', error);\r\n      setFormStatus({ message: 'A network error occurred. Please check your connection and try again.', type: 'error' });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 font-sans flex flex-col\">\r\n      <MenuBar/>\r\n      <main className=\"flex-grow flex items-center justify-center p-6 md:p-10\">\r\n        <div className=\"w-full max-w-4xl bg-white p-8 rounded-xl shadow-2xl border border-gray-200 animate-slide-up\">\r\n          <div className=\"text-center mb-10\">\r\n            <ReportIcon />\r\n            <h1 className=\"text-4xl font-extrabold text-gray-800 mt-4 tracking-tight\">\r\n              Report an Issue\r\n            </h1>\r\n            <p className=\"text-lg text-gray-600 mt-3 max-w-prose mx-auto animate-fade-in delay-200\">\r\n              Encountered a problem or have valuable feedback? Please let us know! Your detailed report helps us improve the experience for everyone.\r\n            </p>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-7\">\r\n\r\n            {/* Subject Field */}\r\n            <div className=\"input-group animate-fade-in delay-300\">\r\n              <label htmlFor=\"subject\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Subject\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"subject\"\r\n                value={subject}\r\n                onChange={(e) => setSubject(e.target.value)}\r\n                className=\"w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-3 focus:ring-blue-400 focus:border-blue-400 transition-all duration-200\"\r\n                placeholder=\"e.g., 'Data not showing ', 'Alert not sending or receiving'\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* --- NEW EMAIL FIELD --- */}\r\n            <div className=\"input-group animate-fade-in delay-400\">\r\n              <label htmlFor=\"email\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Your Email\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className=\"w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-3 focus:ring-blue-400 focus:border-blue-400 transition-all duration-200\"\r\n                placeholder=\"e.g., 'your@email.com'\"\r\n                required\r\n              />\r\n              <p className=\"mt-2 text-xs text-gray-500\">\r\n                We&apos;ll use this to send you updates about your report.\r\n              </p>\r\n            </div>\r\n            {/* --- END OF NEW FIELD --- */}\r\n\r\n\r\n            {/* Category Field - (Delay updated) */}\r\n            <div className=\"input-group animate-fade-in delay-500\">\r\n              <label htmlFor=\"category\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Category\r\n              </label>\r\n              <div className=\"relative\">\r\n                <select\r\n                  id=\"category\"\r\n                  value={category}\r\n                  onChange={(e) => setCategory(e.target.value)}\r\n                  className=\"w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-3 focus:ring-blue-400 focus:border-blue-400 bg-white appearance-none pr-10 transition-all duration-200\"\r\n                  required\r\n                >\r\n                  <option value=\"\" disabled>-- Select an issue type --</option>\r\n                  <option value=\"bug\">Bug Report</option>\r\n                  <option value=\"feature_request\">Feature Request</option>\r\n                  <option value=\"billing\">Billing Issue</option>\r\n                  <option value=\"account\">Account & Profile</option>\r\n                  <option value=\"performance\">Performance Issue</option>\r\n                  <option value=\"security\">Security Concern</option>\r\n                  <option value=\"harassment\">User Harassment / Abuse</option>\r\n                  <option value=\"other\">Other / General Feedback</option>\r\n                </select>\r\n                <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-700\">\r\n                  <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" /></svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Description Field - (Delay updated) */}\r\n            <div className=\"input-group animate-fade-in delay-600\">\r\n              <label htmlFor=\"description\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Detailed Description\r\n              </label>\r\n              <textarea\r\n                id=\"description\"\r\n                rows={7}\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                className=\"w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-3 focus:ring-blue-400 focus:border-blue-400 transition-all duration-200\"\r\n                placeholder=\"Describe the issue, including steps to reproduce it, expected behavior, and actual behavior. Be as detailed as possible!\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* File Attachment Field - (Delay updated) */}\r\n            <div className=\"input-group animate-fade-in delay-700\">\r\n              <label htmlFor=\"attachment\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                Attach Screenshot or File (Optional)\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                id=\"attachment\"\r\n                onChange={(e) => setFile(e.target.files[0])}\r\n                className=\"block w-full text-sm text-gray-600\r\n                         file:mr-5 file:py-2.5 file:px-6\r\n                         file:rounded-full file:border-0\r\n                         file:text-sm file:font-semibold\r\n                         file:bg-indigo-100 file:text-indigo-700\r\n                         hover:file:bg-indigo-200 transition-colors duration-200 cursor-pointer\"\r\n              />\r\n              <p className=\"mt-2 text-xs text-gray-500\">\r\n                Accepted formats: PNG, JPG, GIF, PDF. Max file size: 10MB.\r\n              </p>\r\n            </div>\r\n\r\n            {/* --- NEW: Form Status Message --- */}\r\n            {formStatus.message && (\r\n              <div className={`p-4 rounded-lg text-sm font-medium animate-fade-in ${\r\n                formStatus.type === 'success' \r\n                  ? 'bg-green-100 text-green-800' \r\n                  : 'bg-red-100 text-red-800'\r\n              }`}\r\n                role=\"alert\"\r\n              >\r\n                {formStatus.message}\r\n              </div>\r\n            )}\r\n            {/* --- END: Form Status Message --- */}\r\n\r\n\r\n            {/* Submit Button - (Delay updated) */}\r\n            <div className=\"pt-4 animate-fade-in delay-800\">\r\n              <button\r\n                type=\"submit\"\r\n                className={`w-full py-3.5 px-6 rounded-full text-white font-bold text-lg shadow-lg \r\n                         focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-offset-2 \r\n                         transition-all duration-300 ${isSubmitting ? 'bg-blue-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 transform hover:-translate-y-0.5'}`}\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting ? (\r\n                  <span className=\"flex items-center justify-center\">\r\n                    <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                    </svg>\r\n                    Submitting...\r\n                  </span>\r\n                ) : (\r\n                  'Submit Report'\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"+EACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAGA,IAAM,EAAa,IACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAM,6BAA6B,KAAK,OAAO,QAAQ,YAAY,YAAa,IAAK,OAAO,eAAe,UAAU,mDACxH,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,EAAE,wLAM1C,SAAS,IACtB,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CADkC,AACjC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,AADmB,IAEtD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC3B,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,CAAE,QAAS,GAAI,KAAM,EAAG,GAE/D,CAFmE,CAEpD,MAAO,IAC1B,EAAE,cAAc,EAHoF,CAIpG,GAAgB,GAChB,EAAc,CAAE,QAAS,GAAI,KAAM,EAAG,GAEtC,CAF0C,GAEpC,EAAW,IAAI,SACrB,EAAS,IAHyD,EAGnD,CAAC,UAAW,GAC3B,EAAS,MAAM,CAAC,QAAS,GACzB,EAAS,GADwB,GAClB,CAAC,WAAY,GAC5B,EAAS,MAAM,CAF6C,AAE5C,cAAe,GAC3B,GACF,EAAS,CADD,KACO,CAAC,aAAc,GAOhC,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,AAHb,GAAG,QAAQ,eAAe,CAAC,EAAE,aAGL,CACtC,OAAQ,GAJ2D,IAKnE,KAAM,CAER,GAEA,GAAI,EAAS,EAAE,CAEb,CAFe,CAED,CAAE,QAAS,0DAA2D,KAAM,SAAU,GACpG,EAAW,IACX,EAAS,IACT,CADc,CACF,IACZ,EAAe,IACf,EAAQ,MACR,CAJkC,CAIhC,MAAM,CAAC,KAAK,IAAI,GACb,CAEL,IAAM,EAAY,MAAM,EAAS,EAHK,EAGD,GAAG,KAAK,CAAC,IAAM,CAAC,CAAE,QAAS,kCAAkC,CAAC,EACnG,EAAc,CAAE,QAAS,CAAC,mBAAmB,EAAE,EAAU,OAAO,EAAI,oBAAA,CAAqB,CAAE,KAAM,OAAQ,EAC3G,CACF,CAAE,MAAO,EAAO,CAEd,QAAQ,KAAK,CAAC,oBAAqB,GACnC,EAAc,CAAE,QAAS,wEAAyE,KAAM,OAAQ,EAClH,QAAU,CACR,EAAgB,GAClB,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8FACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAA,GACR,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kEACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qEAA4D,oBAG1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oFAA2E,+IAK1F,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBAGtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,UAAU,UAAU,0DAAiD,YAGpF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,GAAG,UACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,UAAU,qKACV,YAAY,8DACZ,QAAQ,CAAA,CAAA,OAKZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,0DAAiD,eAGlF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,GAAG,QACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,UAAU,qKACV,YAAY,yBACZ,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,6DAQ5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,0DAAiD,aAGrF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,GAAG,WACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,UAAU,oMACV,QAAQ,CAAA,CAAA,YAER,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,GAAG,QAAQ,CAAA,CAAA,WAAC,+BAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,eACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,2BAAkB,oBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,mBAAU,kBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,mBAAU,sBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,uBAAc,sBAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,qBACzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,sBAAa,4BAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,iBAAQ,gCAExB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAuB,MAAM,6BAA6B,QAAQ,qBAAY,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,yFAM3G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,cAAc,UAAU,0DAAiD,yBAGxF,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,GAAG,cACH,KAAM,EACN,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,UAAU,qKACV,YAAY,2HACZ,QAAQ,CAAA,CAAA,OAKZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,QAAQ,aAAa,UAAU,0DAAiD,yCAGvF,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,GAAG,aACH,SAAU,AAAC,GAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAC1C,UAAU,gQAOZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,kEAM3C,EAAW,OAAO,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,mDAAmD,EAC9C,YAApB,EAAW,IAAI,CACX,8BACA,0BAAA,CACJ,CACA,KAAK,iBAEJ,EAAW,OAAO,GAOvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAW,CAAC;;qDAEyB,EAAE,EAAe,iCAAmC,iEAAA,CAAkE,CAC3J,SAAU,WAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,6CACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CAA6C,MAAM,6BAA6B,KAAK,OAAO,QAAQ,sBACjH,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,aAAa,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,OAAO,eAAe,YAAY,MACxF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,aAAa,KAAK,eAAe,EAAE,uHAC/C,mBAIR,4BAQZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CAAA,KAGb"}