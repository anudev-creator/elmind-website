(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19701,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476),s=e.i(71645);let n=()=>(0,t.jsx)("nav",{className:"w-full p-4 bg-white shadow-sm flex justify-between items-center",children:(0,t.jsx)("div",{className:"font-bold text-xl",children:"Elmind."})}),l=()=>(0,t.jsx)("footer",{className:"w-full p-6 bg-gray-100 text-center text-gray-500 text-sm mt-auto",children:"Â© 2025 Elmind Inc."});function a(){let[e,a]=(0,s.useState)(["","","","","",""]),[o,r]=(0,s.useState)(null),[c,i]=(0,s.useState)(60),[d,x]=(0,s.useState)(""),[m,u]=(0,s.useState)(!1),h=(0,s.useRef)(!1);(0,s.useEffect)(()=>{if(h.current)return;h.current=!0;let e=localStorage.getItem("phoneNumber"),t=localStorage.getItem("CheckToken");if(console.log("Phone number: ".concat(e," \nToken:").concat(t)),e&&t){r(e),localStorage.removeItem("CheckToken"),console.log(localStorage.getItem("CheckToken"));return}localStorage.removeItem("CheckToken"),window.location.replace("/")},[]),(0,s.useEffect)(()=>{let e;return c>0&&(e=setInterval(()=>{i(e=>e>0?e-1:0)},1e3)),()=>clearInterval(e)},[c]);let f=async t=>{t.preventDefault();let s=e.join("");if(s.length<6)return void x("Please enter the full 6-digit code.");u(!0),x("");try{let e=await fetch("".concat("http://192.168.1.33:3221","/AccountManagingSystem/api/verify-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:o,otp:s})}),t=await e.json();if(t.success){let e=t.token;sessionStorage.setItem("elmind_access_token",e),sessionStorage.setItem("elmind_user_phone",o),sessionStorage.removeItem("elmind_page_visited"),localStorage.removeItem("phoneNumber"),window.location.href="/reset-password/secure"}else x(t.message||"Invalid Code")}finally{u(!1)}};return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,t.jsx)(n,{}),(0,t.jsx)("main",{className:"flex-grow flex flex-col justify-center items-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-[5px_4px_0px_0px_#000000] border-2 border-black p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Verify It's You"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-2 text-sm",children:["Enter code sent to ",(0,t.jsx)("span",{className:"font-bold text-black",children:o||"..."})]})]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-center gap-2",children:e.map((s,n)=>(0,t.jsx)("input",{type:"text",maxLength:"1",value:s,onChange:t=>((t,s)=>{if(isNaN(t.value))return;let n=[...e];n[s]=t.value,a(n),t.nextSibling&&t.value&&t.nextSibling.focus()})(t.target,n),onFocus:e=>e.target.select(),className:"w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 rounded-lg focus:border-[#2AA5A3] focus:ring-2 focus:ring-[#2AA5A3]/50 outline-none transition-all"},n))}),d&&(0,t.jsx)("p",{className:"text-red-500 text-center text-sm font-bold bg-red-50 p-2 rounded",children:d}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-[#2AA5A3] shadow-[5px_4px_0px_0px_#000000] p-3 rounded-xl text-white font-semibold hover:-translate-y-1 active:translate-y-0 active:shadow-[2px_2px_0px_0px_#000000] transition-all",children:m?"Verifying...":"Verify Code"})]}),(0,t.jsx)("div",{className:"text-center mt-6 text-sm text-gray-600",children:c>0?(0,t.jsxs)("p",{children:["Resend code in ",(0,t.jsxs)("span",{className:"font-bold text-[#2AA5A3]",children:[c,"s"]})]}):(0,t.jsx)("button",{onClick:()=>{i(60),alert("Code resent!")},className:"text-[#2AA5A3] font-bold hover:underline",children:"Resend Code"})}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"(Preview Tip: Use code 123456)"})})]})}),(0,t.jsx)(l,{})]})}}]);